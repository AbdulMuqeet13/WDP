import{_ as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-vyf5wYm6.js";import{d as p,f as C,n as B,g as F,c as g,o as u,w as l,r as R,u as a,m as k,h as c,F as x,a as d,i as A,b as r,e as _,t as m,j as L,k as S,l as I,p as y}from"./app-CXCwr2aO.js";import{u as D,a as N,P as M,r as O,c as U,_ as z}from"./createLucideIcon-Cy7_3Ty3.js";import{b as $,_ as w,a as K}from"./CardHeader.vue_vue_type_script_setup_true_lang-CWJM-VXC.js";import{_ as T}from"./CardDescription.vue_vue_type_script_setup_true_lang-pqq8ejkZ.js";import{_ as P}from"./CardTitle.vue_vue_type_script_setup_true_lang-zQfnS3QP.js";import{_ as j}from"./DataTable.vue_vue_type_script_setup_true_lang-CJRWj66c.js";import{c as X}from"./Collection-D266b2fi.js";import{i as q}from"./nullish-CHIgUVhi.js";import{_ as J}from"./index-MSwXjd-U.js";import"./VisuallyHidden-Cl5wRqgw.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DICSffjw.js";import"./Input.vue_vue_type_script_setup_true_lang-tUwYC8n4.js";const h=100,[W,G]=X("ProgressRoot"),V=e=>typeof e=="number";function H(e,o){return q(e)||V(e)&&!Number.isNaN(e)&&e<=o&&e>=0?e:(console.error(`Invalid prop \`value\` of value \`${e}\` supplied to \`ProgressRoot\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${h} if no \`max\` prop is set)
  - \`null\`  or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`),null)}function Q(e){return V(e)&&!Number.isNaN(e)&&e>0?e:(console.error(`Invalid prop \`max\` of value \`${e}\` supplied to \`ProgressRoot\`. Only numbers greater than 0 are valid max values. Defaulting to \`${h}\`.`),h)}var Y=p({__name:"ProgressRoot",props:{modelValue:{type:[Number,null],required:!1},max:{type:Number,required:!1,default:h},getValueLabel:{type:Function,required:!1,default:(e,o)=>V(e)?`${Math.round(e/o*h)}%`:void 0},getValueText:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue","update:max"],setup(e,{emit:o}){const t=e,n=o;D();const s=N(t,"modelValue",n,{passive:t.modelValue===void 0}),i=N(t,"max",n,{passive:t.max===void 0});C(()=>s.value,async f=>{const v=H(f,t.max);v!==f&&(await B(),s.value=v)},{immediate:!0}),C(()=>t.max,f=>{const v=Q(t.max);v!==f&&(i.value=v)},{immediate:!0});const b=F(()=>q(s.value)?"indeterminate":s.value===i.value?"complete":"loading");return G({modelValue:s,max:i,progressState:b}),(f,v)=>(u(),g(a(M),{"as-child":f.asChild,as:f.as,"aria-valuemax":a(i),"aria-valuemin":0,"aria-valuenow":V(a(s))?a(s):void 0,"aria-valuetext":f.getValueText?.(a(s),a(i)),"aria-label":f.getValueLabel(a(s),a(i)),role:"progressbar","data-state":b.value,"data-value":a(s)??void 0,"data-max":a(i)},{default:l(()=>[R(f.$slots,"default",{modelValue:a(s)})]),_:3},8,["as-child","as","aria-valuemax","aria-valuenow","aria-valuetext","aria-label","data-state","data-value","data-max"]))}}),Z=Y,ee=p({__name:"ProgressIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const o=e,t=W();return D(),(n,s)=>(u(),g(a(M),k(o,{"data-state":a(t).progressState.value,"data-value":a(t).modelValue?.value??void 0,"data-max":a(t).max.value}),{default:l(()=>[R(n.$slots,"default")]),_:3},16,["data-state","data-value","data-max"]))}}),ae=ee;const te={class:"grid gap-4 md:grid-cols-4"},se={class:"rounded-xl border border-border/60 p-4"},re=p({__name:"AdminDashboard",props:{stats:Object,recent_users:Array,columns:Array},setup(e){return(o,t)=>(u(),c(x,null,[d("div",te,[(u(!0),c(x,null,A(e.stats,(n,s)=>(u(),g(a(w),{key:s,class:"rounded-xl border border-border/60"},{default:l(()=>[r(a($),null,{default:l(()=>[r(a(T),{class:"capitalize"},{default:l(()=>[_(m(s.replaceAll("_"," ")),1)]),_:2},1024),r(a(P),{class:"text-2xl font-bold"},{default:l(()=>[_(m(n),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),d("div",se,[t[0]||(t[0]=d("h2",{class:"mb-4 text-lg font-semibold"},"Recent Users",-1)),r(j,{columns:e.columns,"table-data":e.recent_users},null,8,["columns","table-data"])])],64))}}),le=p({__name:"Progress",props:{modelValue:{default:0},max:{},getValueLabel:{},getValueText:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const o=e,t=O(o,"class");return(n,s)=>(u(),g(a(Z),k(a(t),{class:a(U)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",o.class)}),{default:l(()=>[r(a(ae),{class:"h-full w-full flex-1 bg-primary transition-all",style:L(`transform: translateX(-${100-(o.modelValue??0)}%);`)},null,8,["style"])]),_:1},16,["class"]))}}),oe={class:"grid grid-cols-1 gap-6 md:grid-cols-3"},ne={class:"mb-2 text-lg font-bold"},de={class:"mb-4 min-h-18 text-sm text-muted-foreground"},ue={class:"flex flex-col items-end gap-3"},ie={class:"text-sm text-muted-foreground"},ce=p({__name:"Milestone",props:{milestones:Array},setup(e){return(o,t)=>(u(),c("div",oe,[(u(!0),c(x,null,A(e.milestones,(n,s)=>(u(),c("div",{key:s,class:"rounded-2xl border bg-card p-6 shadow transition hover:shadow-lg"},[d("h3",ne,m(n.title),1),d("p",de,m(n.description),1),d("div",ue,[d("p",ie,m(n.progress)+"%",1),r(a(le),{modelValue:n.progress,"onUpdate:modelValue":i=>n.progress=i,max:100,class:"h-3 rounded-full"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))]))}}),me={class:"grid gap-4 md:grid-cols-4"},fe={class:"flex flex-col gap-4 md:flex-row"},_e={class:"space-y-6"},pe=p({__name:"UserDashboard",props:{stats:Object,recent_referrals:Array,columns:Array,milestones:Array},setup(e){return(o,t)=>(u(),c(x,null,[d("div",me,[(u(!0),c(x,null,A(e.stats,(n,s)=>(u(),g(a(w),{key:s,class:"rounded-xl border border-border/60"},{default:l(()=>[r(a($),null,{default:l(()=>[r(a(T),{class:"capitalize"},{default:l(()=>[_(m(s.replaceAll("_"," ")),1)]),_:2},1024),r(a(P),{class:"text-2xl font-bold"},{default:l(()=>[_(m(n),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),d("div",fe,[r(a(w),{class:"flex-1 overflow-hidden rounded-xl border border-border/60"},{default:l(()=>[r(a($),null,{default:l(()=>[r(a(P),null,{default:l(()=>[...t[0]||(t[0]=[_("Recent Referrals",-1)])]),_:1})]),_:1}),r(a(K),{class:"p-0"},{default:l(()=>[r(j,{columns:e.columns,"table-data":e.recent_referrals},null,8,["columns","table-data"])]),_:1})]),_:1})]),d("section",_e,[t[1]||(t[1]=d("h1",{class:"text-3xl font-bold text-foreground"},"Milestone",-1)),r(ce,{milestones:e.milestones},null,8,["milestones"])])],64))}}),ve={class:"flex flex-col gap-6 p-6"},xe={class:"flex justify-between items-center"},ge={class:"text-xl font-bold flex items-end gap-3"},be={key:0,class:"flex items-center gap-4"},he={key:0,class:"space-y-6"},ye={key:1,class:"space-y-6"},qe=p({__name:"Dashboard",props:{user:Object,referral_url:String,role:String,stats:Object,recent_users:Array,recent_referrals:Array,milestones:Array},setup(e){const o=e,t=S(!1),n=async()=>{try{await navigator.clipboard.writeText(o.referral_url),t.value=!0,setTimeout(()=>t.value=!1,2e3)}catch(i){console.error("Failed to copy link:",i)}},s=[{accessorKey:"name",header:"Name"},{accessorKey:"email",header:"Email"},{accessorKey:"joining_date",header:"Joining Date"}];return(i,b)=>(u(),c(x,null,[r(a(I),{title:"Dashboard"}),r(E,null,{default:l(()=>[d("div",ve,[d("div",xe,[d("h1",ge,[d("span",null,"Welcome, "+m(e.user.data.name),1),e.role==="user"?(u(),g(a(J),{key:0,variant:e.stats.wallet_balance>=50?"":"destructive"},{default:l(()=>[_(m(e.stats.wallet_balance>=50?"Active":"Inactive"),1)]),_:1},8,["variant"])):y("",!0)]),e.role==="user"?(u(),c("div",be,[d("p",null,[b[0]||(b[0]=d("strong",null,"Referral Code:",-1)),_(" "+m(e.user.data.referral_code),1)]),r(a(z),{variant:"outline",size:"sm",onClick:n},{default:l(()=>[_(m(t.value?"âœ… Copied!":"Copy Link"),1)]),_:1})])):y("",!0)]),e.role==="user"?(u(),c("div",he,[r(pe,{stats:e.stats,recent_referrals:e.recent_referrals,columns:s,milestones:e.milestones},null,8,["stats","recent_referrals","milestones"])])):y("",!0),e.role==="admin"?(u(),c("div",ye,[r(re,{stats:e.stats,recent_users:e.recent_users,columns:s},null,8,["stats","recent_users"])])):y("",!0)])]),_:1})],64))}});export{qe as default};
