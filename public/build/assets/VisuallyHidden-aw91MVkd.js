import{c as V,a as U,u as D}from"./Collection-DyX8_26Y.js";import{d as G,P as y}from"./createLucideIcon-CmjTaLCf.js";import{d as F,t as N,r as v,c as S,o as E,w as g,b as L,u as i,v as I}from"./app-Di1TneKW.js";function _(){let e=document.activeElement;if(e==null)return null;for(;e!=null&&e.shadowRoot!=null&&e.shadowRoot.activeElement!=null;)e=e.shadowRoot.activeElement;return e}const M="rovingFocusGroup.onEntryFocus",H={bubbles:!1,cancelable:!0},$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function k(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function X(e,t,n){const o=k(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return $[o]}function K(e,t=!1){const n=_();for(const o of e)if(o===n||(o.focus({preventScroll:t}),_()!==n))return}function Z(e,t){return e.map((n,o)=>e[(t+o)%e.length])}const[ee,Y]=V("RovingFocusGroup");var j=F({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(e,{expose:t,emit:n}){const o=e,h=n,{loop:T,orientation:m,dir:A}=N(o),w=U(A),f=G(o,"currentTabStopId",h,{defaultValue:o.defaultCurrentTabStopId,passive:o.currentTabStopId===void 0}),l=v(!1),d=v(!1),p=v(0),{getItems:b,CollectionSlot:C}=D({isProvider:!0});function R(r){const s=!d.value;if(r.currentTarget&&r.target===r.currentTarget&&s&&!l.value){const u=new CustomEvent(M,H);if(r.currentTarget.dispatchEvent(u),h("entryFocus",u),!u.defaultPrevented){const c=b().map(a=>a.ref).filter(a=>a.dataset.disabled!==""),x=c.find(a=>a.getAttribute("data-active")===""),O=c.find(a=>a.getAttribute("data-highlighted")===""),P=c.find(a=>a.id===f.value),B=[x,O,P,...c].filter(Boolean);K(B,o.preventScrollOnEntryFocus)}}d.value=!1}function q(){setTimeout(()=>{d.value=!1},1)}return t({getItems:b}),Y({loop:T,dir:w,orientation:m,currentTabStopId:f,onItemFocus:r=>{f.value=r},onItemShiftTab:()=>{l.value=!0},onFocusableItemAdd:()=>{p.value++},onFocusableItemRemove:()=>{p.value--}}),(r,s)=>(E(),S(i(C),null,{default:g(()=>[L(i(y),{tabindex:l.value||p.value===0?-1:0,"data-orientation":i(m),as:r.as,"as-child":r.asChild,dir:i(w),style:{outline:"none"},onMousedown:s[0]||(s[0]=u=>d.value=!0),onMouseup:q,onFocus:R,onBlur:s[1]||(s[1]=u=>l.value=!1)},{default:g(()=>[I(r.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),te=j,z=F({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){return(t,n)=>(E(),S(i(y),{as:t.as,"as-child":t.asChild,"aria-hidden":t.feature==="focusable"?"true":void 0,"data-hidden":t.feature==="fully-hidden"?"":void 0,tabindex:t.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:g(()=>[I(t.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),oe=z;export{te as R,oe as V,_ as a,K as f,X as g,ee as i,Z as w};
