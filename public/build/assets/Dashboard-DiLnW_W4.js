import{_ as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-BII6s_DU.js";import{d as p,f as N,n as B,g as F,c as h,o as u,w as n,r as A,u as a,m as k,h as d,F as g,a as i,i as C,b as l,e as _,t as f,j as L,k as S,l as O,p as $}from"./app-BMFeLfI9.js";import{u as D,a as R,P as M,r as I,c as z,_ as K}from"./createLucideIcon-u2YKxEGK.js";import{b as V,_ as w,a as U}from"./CardHeader.vue_vue_type_script_setup_true_lang-upnMTJWN.js";import{_ as T}from"./CardDescription.vue_vue_type_script_setup_true_lang-DBADZ-l7.js";import{_ as P}from"./CardTitle.vue_vue_type_script_setup_true_lang-Dq7LJVCR.js";import{_ as j}from"./DataTable.vue_vue_type_script_setup_true_lang-D84SKMQJ.js";import{c as X}from"./Collection-v6VfxAKJ.js";import{i as q}from"./nullish-CHIgUVhi.js";import"./VisuallyHidden-DQAJ4FCP.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-uVgNaaO2.js";import"./Input.vue_vue_type_script_setup_true_lang-BQkd0an0.js";const b=100,[J,W]=X("ProgressRoot"),y=e=>typeof e=="number";function G(e,o){return q(e)||y(e)&&!Number.isNaN(e)&&e<=o&&e>=0?e:(console.error(`Invalid prop \`value\` of value \`${e}\` supplied to \`ProgressRoot\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${b} if no \`max\` prop is set)
  - \`null\`  or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`),null)}function H(e){return y(e)&&!Number.isNaN(e)&&e>0?e:(console.error(`Invalid prop \`max\` of value \`${e}\` supplied to \`ProgressRoot\`. Only numbers greater than 0 are valid max values. Defaulting to \`${b}\`.`),b)}var Q=p({__name:"ProgressRoot",props:{modelValue:{type:[Number,null],required:!1},max:{type:Number,required:!1,default:b},getValueLabel:{type:Function,required:!1,default:(e,o)=>y(e)?`${Math.round(e/o*b)}%`:void 0},getValueText:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue","update:max"],setup(e,{emit:o}){const t=e,r=o;D();const s=R(t,"modelValue",r,{passive:t.modelValue===void 0}),c=R(t,"max",r,{passive:t.max===void 0});N(()=>s.value,async m=>{const x=G(m,t.max);x!==m&&(await B(),s.value=x)},{immediate:!0}),N(()=>t.max,m=>{const x=H(t.max);x!==m&&(c.value=x)},{immediate:!0});const v=F(()=>q(s.value)?"indeterminate":s.value===c.value?"complete":"loading");return W({modelValue:s,max:c,progressState:v}),(m,x)=>(u(),h(a(M),{"as-child":m.asChild,as:m.as,"aria-valuemax":a(c),"aria-valuemin":0,"aria-valuenow":y(a(s))?a(s):void 0,"aria-valuetext":m.getValueText?.(a(s),a(c)),"aria-label":m.getValueLabel(a(s),a(c)),role:"progressbar","data-state":v.value,"data-value":a(s)??void 0,"data-max":a(c)},{default:n(()=>[A(m.$slots,"default",{modelValue:a(s)})]),_:3},8,["as-child","as","aria-valuemax","aria-valuenow","aria-valuetext","aria-label","data-state","data-value","data-max"]))}}),Y=Q,Z=p({__name:"ProgressIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const o=e,t=J();return D(),(r,s)=>(u(),h(a(M),k(o,{"data-state":a(t).progressState.value,"data-value":a(t).modelValue?.value??void 0,"data-max":a(t).max.value}),{default:n(()=>[A(r.$slots,"default")]),_:3},16,["data-state","data-value","data-max"]))}}),ee=Z;const ae={class:"grid gap-4 md:grid-cols-4"},te={class:"rounded-xl border border-border/60 p-4"},se=p({__name:"AdminDashboard",props:{stats:Object,recent_users:Array,columns:Array},setup(e){return(o,t)=>(u(),d(g,null,[i("div",ae,[(u(!0),d(g,null,C(e.stats,(r,s)=>(u(),h(a(w),{key:s,class:"rounded-xl border border-border/60"},{default:n(()=>[l(a(V),null,{default:n(()=>[l(a(T),{class:"capitalize"},{default:n(()=>[_(f(s.replace("_"," ")),1)]),_:2},1024),l(a(P),{class:"text-2xl font-bold"},{default:n(()=>[_(f(typeof r=="number"?r:`$${r}`),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),i("div",te,[t[0]||(t[0]=i("h2",{class:"mb-4 text-lg font-semibold"},"Recent Users",-1)),l(j,{columns:e.columns,"table-data":e.recent_users},null,8,["columns","table-data"])])],64))}}),re=p({__name:"Progress",props:{modelValue:{default:0},max:{},getValueLabel:{},getValueText:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const o=e,t=I(o,"class");return(r,s)=>(u(),h(a(Y),k(a(t),{class:a(z)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",o.class)}),{default:n(()=>[l(a(ee),{class:"h-full w-full flex-1 bg-primary transition-all",style:L(`transform: translateX(-${100-(o.modelValue??0)}%);`)},null,8,["style"])]),_:1},16,["class"]))}}),le={class:"grid grid-cols-1 gap-6 md:grid-cols-3"},oe={class:"mb-2 text-lg font-bold"},ne={class:"mb-4 min-h-18 text-sm text-muted-foreground"},ie={class:"flex flex-col items-end gap-3"},ue={class:"text-sm text-muted-foreground"},de=p({__name:"Milestone",props:{milestones:Array},setup(e){return(o,t)=>(u(),d("div",le,[(u(!0),d(g,null,C(e.milestones,(r,s)=>(u(),d("div",{key:s,class:"rounded-2xl border bg-card p-6 shadow transition hover:shadow-lg"},[i("h3",oe,f(r.title),1),i("p",ne,f(r.description),1),i("div",ie,[i("p",ue,f(r.progress)+"%",1),l(a(re),{value:r.progress,max:100,class:"h-3 rounded-full"},null,8,["value"])])]))),128))]))}}),ce={class:"grid gap-4 md:grid-cols-4"},me={class:"flex flex-col gap-4 md:flex-row"},fe={class:"space-y-6"},_e=p({__name:"UserDashboard",props:{stats:Object,recent_referrals:Array,columns:Array,milestones:Array},setup(e){return(o,t)=>(u(),d(g,null,[i("div",ce,[(u(!0),d(g,null,C(e.stats,(r,s)=>(u(),h(a(w),{key:s,class:"rounded-xl border border-border/60"},{default:n(()=>[l(a(V),null,{default:n(()=>[l(a(T),{class:"capitalize"},{default:n(()=>[_(f(s.replace("_"," ")),1)]),_:2},1024),l(a(P),{class:"text-2xl font-bold"},{default:n(()=>[_(f(typeof r=="number"?r:`$${r}`),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),i("div",me,[l(a(w),{class:"flex-1 overflow-hidden rounded-xl border border-border/60"},{default:n(()=>[l(a(V),null,{default:n(()=>[l(a(P),null,{default:n(()=>[...t[0]||(t[0]=[_("Recent Referrals",-1)])]),_:1})]),_:1}),l(a(U),{class:"p-0"},{default:n(()=>[l(j,{columns:e.columns,"table-data":e.recent_referrals},null,8,["columns","table-data"])]),_:1})]),_:1})]),i("section",fe,[t[1]||(t[1]=i("h1",{class:"text-3xl font-bold text-foreground"},"Milestone",-1)),l(de,{milestones:e.milestones},null,8,["milestones"])])],64))}}),pe={class:"flex flex-col gap-6 p-6"},xe={class:"flex justify-between items-center"},ge={class:"text-xl font-bold"},ve={key:0,class:"flex items-center gap-4"},be={key:0,class:"space-y-6"},he={key:1,class:"space-y-6"},Te=p({__name:"Dashboard",props:{user:Object,referral_url:String,role:String,stats:Object,recent_users:Array,recent_referrals:Array,milestones:Array},setup(e){const o=e,t=S(!1),r=async()=>{try{await navigator.clipboard.writeText(o.referral_url),t.value=!0,setTimeout(()=>t.value=!1,2e3)}catch(c){console.error("Failed to copy link:",c)}},s=[{accessorKey:"name",header:"Name"},{accessorKey:"email",header:"Email"},{accessorKey:"joining_date",header:"Joining Date"}];return(c,v)=>(u(),d(g,null,[l(a(O),{title:"Dashboard"}),l(E,null,{default:n(()=>[i("div",pe,[i("div",xe,[i("h1",ge,"Welcome, "+f(e.user.data.name),1),e.role==="user"?(u(),d("div",ve,[i("p",null,[v[0]||(v[0]=i("strong",null,"Referral Code:",-1)),_(" "+f(e.user.data.referral_code),1)]),l(a(K),{variant:"outline",size:"sm",onClick:r},{default:n(()=>[_(f(t.value?"âœ… Copied!":"Copy Link"),1)]),_:1})])):$("",!0)]),e.role==="user"?(u(),d("div",be,[l(_e,{stats:e.stats,recent_referrals:e.recent_referrals,columns:s,milestones:e.milestones},null,8,["stats","recent_referrals","milestones"])])):$("",!0),e.role==="admin"?(u(),d("div",he,[l(se,{stats:e.stats,recent_users:e.recent_users,columns:s},null,8,["stats","recent_users"])])):$("",!0)])]),_:1})],64))}});export{Te as default};
