import{a as V,b as C,c as D,d as m,_ as P}from"./DataTable.vue_vue_type_script_setup_true_lang-CgT4a_k_.js";import{_ as x}from"./AppLayout.vue_vue_type_script_setup_true_lang-Bjn22t6F.js";import{d as R,k as _,f as S,h as U,b as r,u as o,l as H,w as s,a as p,e as i,F as E,E as B,o as F}from"./app--4vU3Rnw.js";import{_ as c}from"./Input.vue_vue_type_script_setup_true_lang-C3XnsXDc.js";import{_ as h}from"./Label.vue_vue_type_script_setup_true_lang-BzKjLOVh.js";import"./createLucideIcon-Bv0cVzqW.js";import"./Collection-s_LBWbJl.js";import"./VisuallyHidden-C6s1dTVS.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-f3QuDcIs.js";let y=new Map;class I{format(e){return this.formatter.format(e)}formatToParts(e){return this.formatter.formatToParts(e)}formatRange(e,l){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(e,l);if(l<e)throw new RangeError("End date must be >= start date");return`${this.formatter.format(e)} – ${this.formatter.format(l)}`}formatRangeToParts(e,l){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(e,l);if(l<e)throw new RangeError("End date must be >= start date");let t=this.formatter.formatToParts(e),u=this.formatter.formatToParts(l);return[...t.map(n=>({...n,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...u.map(n=>({...n,source:"endRange"}))]}resolvedOptions(){let e=this.formatter.resolvedOptions();return j()&&(this.resolvedHourCycle||(this.resolvedHourCycle=N(e.locale,this.options)),e.hourCycle=this.resolvedHourCycle,e.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),e.calendar==="ethiopic-amete-alem"&&(e.calendar="ethioaa"),e}constructor(e,l={}){this.formatter=w(e,l),this.options=l}}const O={true:{ja:"h11"},false:{}};function w(d,e={}){if(typeof e.hour12=="boolean"&&K()){e={...e};let u=O[String(e.hour12)][d.split("-")[0]],n=e.hour12?"h12":"h23";e.hourCycle=u??n,delete e.hour12}let l=d+(e?Object.entries(e).sort((u,n)=>u[0]<n[0]?-1:1).join():"");if(y.has(l))return y.get(l);let t=new Intl.DateTimeFormat(d,e);return y.set(l,t),t}let v=null;function K(){return v==null&&(v=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),v}let $=null;function j(){return $==null&&($=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),$}function N(d,e){if(!e.timeStyle&&!e.hour)return;d=d.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),d+=(d.includes("-u-")?"":"-u")+"-nu-latn";let l=w(d,{...e,timeZone:void 0}),t=parseInt(l.formatToParts(new Date(2020,2,3,0)).find(n=>n.type==="hour").value,10),u=parseInt(l.formatToParts(new Date(2020,2,3,23)).find(n=>n.type==="hour").value,10);if(t===0&&u===23)return"h23";if(t===24&&u===23)return"h24";if(t===0&&u===11)return"h11";if(t===12&&u===11)return"h12";throw new Error("Unexpected hour cycle result")}const k={class:"container mx-auto p-10 space-y-6"},W=R({__name:"Index",props:{transactions:Object},setup(d){new I("en-US",{dateStyle:"medium"});const e=[{title:"Transactions",href:""}],l=[{accessorKey:"user.name",header:"User"},{accessorKey:"meta.type",header:"Type"},{accessorKey:"amount",header:"Amount"},{accessorKey:"created_at",header:"Date"}],t=_({user:"",type:"",amount:"",start_date:"",end_date:""}),u=_(1),n=()=>{B.reload({only:["transactions"],data:{page:u.value,...t.value},preserveScroll:!0})},T=g=>{u.value=g.value,n()};let b;return S(t,()=>{clearTimeout(b),b=setTimeout(()=>{u.value=1,n()},500)},{deep:!0}),(g,a)=>(F(),U(E,null,[r(o(H),{title:"User Transactions"}),r(x,{breadcrumbs:e},{default:s(()=>[p("div",k,[a[10]||(a[10]=p("h1",{class:"text-2xl font-bold"},"User Transactions",-1)),p("div",null,[r(o(V),null,{default:s(()=>[r(o(C),null,{default:s(()=>[r(o(D),null,{default:s(()=>[r(o(m),null,{default:s(()=>[r(o(h),{class:"mb-3"},{default:s(()=>[...a[5]||(a[5]=[i("User",-1)])]),_:1}),r(o(c),{modelValue:t.value.user,"onUpdate:modelValue":a[0]||(a[0]=f=>t.value.user=f),type:"text",placeholder:"Search User",class:"w-full border rounded-lg p-2"},null,8,["modelValue"])]),_:1}),r(o(m),null,{default:s(()=>[r(o(h),{class:"mb-3"},{default:s(()=>[...a[6]||(a[6]=[i("Type",-1)])]),_:1}),r(o(c),{modelValue:t.value.type,"onUpdate:modelValue":a[1]||(a[1]=f=>t.value.type=f),type:"text",placeholder:"Search Type",class:"w-full border rounded-lg p-2"},null,8,["modelValue"])]),_:1}),r(o(m),null,{default:s(()=>[r(o(h),{class:"mb-3"},{default:s(()=>[...a[7]||(a[7]=[i("Type",-1)])]),_:1}),r(o(c),{modelValue:t.value.amount,"onUpdate:modelValue":a[2]||(a[2]=f=>t.value.amount=f),type:"number",placeholder:"Search Amount",class:"w-full border rounded-lg p-2"},null,8,["modelValue"])]),_:1}),r(o(m),null,{default:s(()=>[r(o(h),{class:"mb-3"},{default:s(()=>[...a[8]||(a[8]=[i("Start Date",-1)])]),_:1}),r(o(c),{modelValue:t.value.start_date,"onUpdate:modelValue":a[3]||(a[3]=f=>t.value.start_date=f),type:"date",placeholder:"Start Date - End Date",class:"w-full border rounded-lg p-2"},null,8,["modelValue"])]),_:1}),r(o(m),null,{default:s(()=>[r(o(h),{class:"mb-3"},{default:s(()=>[...a[9]||(a[9]=[i("End Date",-1)])]),_:1}),r(o(c),{modelValue:t.value.end_date,"onUpdate:modelValue":a[4]||(a[4]=f=>t.value.end_date=f),type:"date",placeholder:"Start Date - End Date",class:"w-full border rounded-lg p-2"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),r(P,{columns:l,tableData:d.transactions.data,meta:d.transactions.meta,onPageChange:T,enableSearch:!1},null,8,["tableData","meta"])])])]),_:1})],64))}});export{W as default};
