import{_ as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-BjZNo5_x.js";import{d as p,f as N,n as L,g as S,c as P,o as u,w as r,r as k,u as a,m as A,h as _,F as $,a as d,b as s,e as i,t as c,i as B,j as T,k as F,l as I,p as C}from"./app-BLPyOGSA.js";import{u as D,a as R,P as M,r as O,c as U,_ as z}from"./createLucideIcon-BQ2n5D7j.js";import{_ as b,b as g,a as K}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cb7sFMDQ.js";import{_ as y}from"./CardDescription.vue_vue_type_script_setup_true_lang-AUcYhfzL.js";import{_ as v}from"./CardTitle.vue_vue_type_script_setup_true_lang-DhP1WwGk.js";import{_ as j}from"./DataTable.vue_vue_type_script_setup_true_lang-CQmbxD6t.js";import{c as W}from"./Collection-pArLjEUV.js";import{i as q}from"./nullish-CHIgUVhi.js";import"./VisuallyHidden-5efsGngQ.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CHgAwPpK.js";import"./Input.vue_vue_type_script_setup_true_lang-C6ReXbY5.js";const V=100,[X,J]=W("ProgressRoot"),w=e=>typeof e=="number";function G(e,o){return q(e)||w(e)&&!Number.isNaN(e)&&e<=o&&e>=0?e:(console.error(`Invalid prop \`value\` of value \`${e}\` supplied to \`ProgressRoot\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${V} if no \`max\` prop is set)
  - \`null\`  or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`),null)}function H(e){return w(e)&&!Number.isNaN(e)&&e>0?e:(console.error(`Invalid prop \`max\` of value \`${e}\` supplied to \`ProgressRoot\`. Only numbers greater than 0 are valid max values. Defaulting to \`${V}\`.`),V)}var Q=p({__name:"ProgressRoot",props:{modelValue:{type:[Number,null],required:!1},max:{type:Number,required:!1,default:V},getValueLabel:{type:Function,required:!1,default:(e,o)=>w(e)?`${Math.round(e/o*V)}%`:void 0},getValueText:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue","update:max"],setup(e,{emit:o}){const t=e,n=o;D();const l=R(t,"modelValue",n,{passive:t.modelValue===void 0}),m=R(t,"max",n,{passive:t.max===void 0});N(()=>l.value,async f=>{const x=G(f,t.max);x!==f&&(await L(),l.value=x)},{immediate:!0}),N(()=>t.max,f=>{const x=H(t.max);x!==f&&(m.value=x)},{immediate:!0});const h=S(()=>q(l.value)?"indeterminate":l.value===m.value?"complete":"loading");return J({modelValue:l,max:m,progressState:h}),(f,x)=>(u(),P(a(M),{"as-child":f.asChild,as:f.as,"aria-valuemax":a(m),"aria-valuemin":0,"aria-valuenow":w(a(l))?a(l):void 0,"aria-valuetext":f.getValueText?.(a(l),a(m)),"aria-label":f.getValueLabel(a(l),a(m)),role:"progressbar","data-state":h.value,"data-value":a(l)??void 0,"data-max":a(m)},{default:r(()=>[k(f.$slots,"default",{modelValue:a(l)})]),_:3},8,["as-child","as","aria-valuemax","aria-valuenow","aria-valuetext","aria-label","data-state","data-value","data-max"]))}}),Y=Q,Z=p({__name:"ProgressIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const o=e,t=X();return D(),(n,l)=>(u(),P(a(M),A(o,{"data-state":a(t).progressState.value,"data-value":a(t).modelValue?.value??void 0,"data-max":a(t).max.value}),{default:r(()=>[k(n.$slots,"default")]),_:3},16,["data-state","data-value","data-max"]))}}),ee=Z;const ae={class:"grid gap-4 md:grid-cols-4"},te={class:"rounded-xl border border-border/60 p-4"},se=p({__name:"AdminDashboard",props:{stats:Object,recent_users:Array,columns:Array},setup(e){return(o,t)=>(u(),_($,null,[d("div",ae,[s(a(b),{class:"rounded-xl border border-border/60"},{default:r(()=>[s(a(g),null,{default:r(()=>[s(a(y),null,{default:r(()=>[...t[0]||(t[0]=[i("Total Users",-1)])]),_:1}),s(a(v),{class:"text-2xl font-bold"},{default:r(()=>[i(c(e.stats.total_users),1)]),_:1})]),_:1})]),_:1}),s(a(b),{class:"rounded-xl border border-border/60"},{default:r(()=>[s(a(g),null,{default:r(()=>[s(a(y),null,{default:r(()=>[...t[1]||(t[1]=[i("Total Income",-1)])]),_:1}),s(a(v),{class:"text-2xl font-bold"},{default:r(()=>[i("$"+c(e.stats.total_income.toLocaleString()),1)]),_:1})]),_:1})]),_:1}),s(a(b),{class:"rounded-xl border border-border/60"},{default:r(()=>[s(a(g),null,{default:r(()=>[s(a(y),null,{default:r(()=>[...t[2]||(t[2]=[i("Pending Deposits",-1)])]),_:1}),s(a(v),{class:"text-2xl font-bold"},{default:r(()=>[i(c(e.stats.pending_deposits),1)]),_:1})]),_:1})]),_:1}),s(a(b),{class:"rounded-xl border border-border/60"},{default:r(()=>[s(a(g),null,{default:r(()=>[s(a(y),null,{default:r(()=>[...t[3]||(t[3]=[i("Pending Withdrawals",-1)])]),_:1}),s(a(v),{class:"text-2xl font-bold"},{default:r(()=>[i(c(e.stats.pending_withdrawals),1)]),_:1})]),_:1})]),_:1})]),d("div",te,[t[4]||(t[4]=d("h2",{class:"mb-4 text-lg font-semibold"},"Recent Users",-1)),s(j,{columns:e.columns,"table-data":e.recent_users},null,8,["columns","table-data"])])],64))}}),re=p({__name:"Progress",props:{modelValue:{default:0},max:{},getValueLabel:{},getValueText:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const o=e,t=O(o,"class");return(n,l)=>(u(),P(a(Y),A(a(t),{class:a(U)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",o.class)}),{default:r(()=>[s(a(ee),{class:"h-full w-full flex-1 bg-primary transition-all",style:B(`transform: translateX(-${100-(o.modelValue??0)}%);`)},null,8,["style"])]),_:1},16,["class"]))}}),le={class:"grid grid-cols-1 gap-6 md:grid-cols-3"},oe={class:"mb-2 text-lg font-bold"},ne={class:"mb-4 min-h-18 text-sm text-muted-foreground"},de={class:"flex flex-col items-end gap-3"},ue={class:"text-sm text-muted-foreground"},ie=p({__name:"Milestone",props:{milestones:Array},setup(e){return(o,t)=>(u(),_("div",le,[(u(!0),_($,null,T(e.milestones,(n,l)=>(u(),_("div",{key:l,class:"rounded-2xl border bg-card p-6 shadow transition hover:shadow-lg"},[d("h3",oe,c(n.title),1),d("p",ne,c(n.description),1),d("div",de,[d("p",ue,c(n.progress)+"%",1),s(a(re),{value:n.progress,max:100,class:"h-3 rounded-full"},null,8,["value"])])]))),128))]))}}),ce={class:"grid gap-4 md:grid-cols-4"},me={class:"flex flex-col gap-4 md:flex-row"},fe={class:"space-y-6"},_e=p({__name:"UserDashboard",props:{stats:Object,recent_referrals:Array,columns:Array,milestones:Array},setup(e){return(o,t)=>(u(),_($,null,[d("div",ce,[(u(!0),_($,null,T(e.stats,(n,l)=>(u(),P(a(b),{key:l,class:"rounded-xl border border-border/60"},{default:r(()=>[s(a(g),null,{default:r(()=>[s(a(y),{class:"capitalize"},{default:r(()=>[i(c(l.replace("_"," ")),1)]),_:2},1024),s(a(v),{class:"text-2xl font-bold"},{default:r(()=>[i(c(typeof n=="number"?n:`$${n}`),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),d("div",me,[s(a(b),{class:"flex-1 overflow-hidden rounded-xl border border-border/60"},{default:r(()=>[s(a(g),null,{default:r(()=>[s(a(v),null,{default:r(()=>[...t[0]||(t[0]=[i("Recent Referrals",-1)])]),_:1})]),_:1}),s(a(K),{class:"p-0"},{default:r(()=>[s(j,{columns:e.columns,"table-data":e.recent_referrals},null,8,["columns","table-data"])]),_:1})]),_:1})]),d("section",fe,[t[1]||(t[1]=d("h1",{class:"text-3xl font-bold text-foreground"},"Milestone",-1)),s(ie,{milestones:e.milestones},null,8,["milestones"])])],64))}}),pe={class:"flex flex-col gap-6 p-6"},xe={class:"flex justify-between items-center"},be={class:"text-xl font-bold"},ge={key:0,class:"flex items-center gap-4"},ve={key:0,class:"space-y-6"},he={key:1,class:"space-y-6"},Me=p({__name:"Dashboard",props:{user:Object,referral_url:String,role:String,stats:Object,recent_users:Array,recent_referrals:Array,milestones:Array},setup(e){const o=e,t=F(!1),n=async()=>{try{await navigator.clipboard.writeText(o.referral_url),t.value=!0,setTimeout(()=>t.value=!1,2e3)}catch(m){console.error("Failed to copy link:",m)}},l=[{accessorKey:"name",header:"Name"},{accessorKey:"email",header:"Email"},{accessorKey:"joining_date",header:"Joining Date"}];return(m,h)=>(u(),_($,null,[s(a(I),{title:"Dashboard"}),s(E,null,{default:r(()=>[d("div",pe,[d("div",xe,[d("h1",be,"Welcome, "+c(e.user.data.name),1),e.role==="user"?(u(),_("div",ge,[d("p",null,[h[0]||(h[0]=d("strong",null,"Referral Code:",-1)),i(" "+c(e.user.data.referral_code),1)]),s(a(z),{variant:"outline",size:"sm",onClick:n},{default:r(()=>[i(c(t.value?"âœ… Copied!":"Copy Link"),1)]),_:1})])):C("",!0)]),e.role==="user"?(u(),_("div",ve,[s(_e,{stats:e.stats,recent_referrals:e.recent_referrals,columns:l,milestones:e.milestones},null,8,["stats","recent_referrals","milestones"])])):C("",!0),e.role==="admin"?(u(),_("div",he,[s(se,{stats:e.stats,recent_users:e.recent_users,columns:l},null,8,["stats","recent_users"])])):C("",!0)])]),_:1})],64))}});export{Me as default};
