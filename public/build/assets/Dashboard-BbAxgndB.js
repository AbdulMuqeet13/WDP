import{_ as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-BEp8dhPj.js";import{d as p,f as N,n as B,g as F,c as v,o as i,w as o,r as R,u as a,m as k,h as c,F as g,a as d,i as C,b as l,e as _,t as m,j as L,k as S,l as I,p as y}from"./app-DDFltCUs.js";import{u as D,a as A,P as M,r as O,c as U,_ as z}from"./createLucideIcon-DWliYI4v.js";import{b as V,_ as w,a as K}from"./CardHeader.vue_vue_type_script_setup_true_lang-DQ8m5COz.js";import{_ as T}from"./CardDescription.vue_vue_type_script_setup_true_lang-pdueHlQs.js";import{_ as P}from"./CardTitle.vue_vue_type_script_setup_true_lang-D6QOSbhc.js";import{_ as j}from"./DataTable.vue_vue_type_script_setup_true_lang-BtxN82MO.js";import{c as X}from"./Collection-Bebn4wAr.js";import{i as q}from"./nullish-CHIgUVhi.js";import{_ as J}from"./index-C-yXAmkk.js";import"./VisuallyHidden-Di8oWKqN.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CBaYY_7E.js";import"./Input.vue_vue_type_script_setup_true_lang-DQjns2ae.js";const h=100,[W,G]=X("ProgressRoot"),$=e=>typeof e=="number";function H(e,n){return q(e)||$(e)&&!Number.isNaN(e)&&e<=n&&e>=0?e:(console.error(`Invalid prop \`value\` of value \`${e}\` supplied to \`ProgressRoot\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${h} if no \`max\` prop is set)
  - \`null\`  or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`),null)}function Q(e){return $(e)&&!Number.isNaN(e)&&e>0?e:(console.error(`Invalid prop \`max\` of value \`${e}\` supplied to \`ProgressRoot\`. Only numbers greater than 0 are valid max values. Defaulting to \`${h}\`.`),h)}var Y=p({__name:"ProgressRoot",props:{modelValue:{type:[Number,null],required:!1},max:{type:Number,required:!1,default:h},getValueLabel:{type:Function,required:!1,default:(e,n)=>$(e)?`${Math.round(e/n*h)}%`:void 0},getValueText:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue","update:max"],setup(e,{emit:n}){const t=e,r=n;D();const s=A(t,"modelValue",r,{passive:t.modelValue===void 0}),u=A(t,"max",r,{passive:t.max===void 0});N(()=>s.value,async f=>{const x=H(f,t.max);x!==f&&(await B(),s.value=x)},{immediate:!0}),N(()=>t.max,f=>{const x=Q(t.max);x!==f&&(u.value=x)},{immediate:!0});const b=F(()=>q(s.value)?"indeterminate":s.value===u.value?"complete":"loading");return G({modelValue:s,max:u,progressState:b}),(f,x)=>(i(),v(a(M),{"as-child":f.asChild,as:f.as,"aria-valuemax":a(u),"aria-valuemin":0,"aria-valuenow":$(a(s))?a(s):void 0,"aria-valuetext":f.getValueText?.(a(s),a(u)),"aria-label":f.getValueLabel(a(s),a(u)),role:"progressbar","data-state":b.value,"data-value":a(s)??void 0,"data-max":a(u)},{default:o(()=>[R(f.$slots,"default",{modelValue:a(s)})]),_:3},8,["as-child","as","aria-valuemax","aria-valuenow","aria-valuetext","aria-label","data-state","data-value","data-max"]))}}),Z=Y,ee=p({__name:"ProgressIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e,t=W();return D(),(r,s)=>(i(),v(a(M),k(n,{"data-state":a(t).progressState.value,"data-value":a(t).modelValue?.value??void 0,"data-max":a(t).max.value}),{default:o(()=>[R(r.$slots,"default")]),_:3},16,["data-state","data-value","data-max"]))}}),ae=ee;const te={class:"grid gap-4 md:grid-cols-4"},se={class:"rounded-xl border border-border/60 p-4"},re=p({__name:"AdminDashboard",props:{stats:Object,recent_users:Array,columns:Array},setup(e){return(n,t)=>(i(),c(g,null,[d("div",te,[(i(!0),c(g,null,C(e.stats,(r,s)=>(i(),v(a(w),{key:s,class:"rounded-xl border border-border/60"},{default:o(()=>[l(a(V),null,{default:o(()=>[l(a(T),{class:"capitalize"},{default:o(()=>[_(m(s.replace("_"," ")),1)]),_:2},1024),l(a(P),{class:"text-2xl font-bold"},{default:o(()=>[_(m(typeof r=="number"?r:`$${r}`),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),d("div",se,[t[0]||(t[0]=d("h2",{class:"mb-4 text-lg font-semibold"},"Recent Users",-1)),l(j,{columns:e.columns,"table-data":e.recent_users},null,8,["columns","table-data"])])],64))}}),le=p({__name:"Progress",props:{modelValue:{default:0},max:{},getValueLabel:{},getValueText:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const n=e,t=O(n,"class");return(r,s)=>(i(),v(a(Z),k(a(t),{class:a(U)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n.class)}),{default:o(()=>[l(a(ae),{class:"h-full w-full flex-1 bg-primary transition-all",style:L(`transform: translateX(-${100-(n.modelValue??0)}%);`)},null,8,["style"])]),_:1},16,["class"]))}}),oe={class:"grid grid-cols-1 gap-6 md:grid-cols-3"},ne={class:"mb-2 text-lg font-bold"},de={class:"mb-4 min-h-18 text-sm text-muted-foreground"},ie={class:"flex flex-col items-end gap-3"},ue={class:"text-sm text-muted-foreground"},ce=p({__name:"Milestone",props:{milestones:Array},setup(e){return(n,t)=>(i(),c("div",oe,[(i(!0),c(g,null,C(e.milestones,(r,s)=>(i(),c("div",{key:s,class:"rounded-2xl border bg-card p-6 shadow transition hover:shadow-lg"},[d("h3",ne,m(r.title),1),d("p",de,m(r.description),1),d("div",ie,[d("p",ue,m(r.progress)+"%",1),l(a(le),{modelValue:r.progress,"onUpdate:modelValue":u=>r.progress=u,max:100,class:"h-3 rounded-full"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))]))}}),me={class:"grid gap-4 md:grid-cols-4"},fe={class:"flex flex-col gap-4 md:flex-row"},_e={class:"space-y-6"},pe=p({__name:"UserDashboard",props:{stats:Object,recent_referrals:Array,columns:Array,milestones:Array},setup(e){return(n,t)=>(i(),c(g,null,[d("div",me,[(i(!0),c(g,null,C(e.stats,(r,s)=>(i(),v(a(w),{key:s,class:"rounded-xl border border-border/60"},{default:o(()=>[l(a(V),null,{default:o(()=>[l(a(T),{class:"capitalize"},{default:o(()=>[_(m(s.replace("_"," ")),1)]),_:2},1024),l(a(P),{class:"text-2xl font-bold"},{default:o(()=>[_(m(typeof r=="number"?r:`$${r}`),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),d("div",fe,[l(a(w),{class:"flex-1 overflow-hidden rounded-xl border border-border/60"},{default:o(()=>[l(a(V),null,{default:o(()=>[l(a(P),null,{default:o(()=>[...t[0]||(t[0]=[_("Recent Referrals",-1)])]),_:1})]),_:1}),l(a(K),{class:"p-0"},{default:o(()=>[l(j,{columns:e.columns,"table-data":e.recent_referrals},null,8,["columns","table-data"])]),_:1})]),_:1})]),d("section",_e,[t[1]||(t[1]=d("h1",{class:"text-3xl font-bold text-foreground"},"Milestone",-1)),l(ce,{milestones:e.milestones},null,8,["milestones"])])],64))}}),xe={class:"flex flex-col gap-6 p-6"},ge={class:"flex justify-between items-center"},ve={class:"text-xl font-bold flex items-end gap-3"},be={key:0,class:"flex items-center gap-4"},he={key:0,class:"space-y-6"},ye={key:1,class:"space-y-6"},qe=p({__name:"Dashboard",props:{user:Object,referral_url:String,role:String,stats:Object,recent_users:Array,recent_referrals:Array,milestones:Array},setup(e){const n=e,t=S(!1),r=async()=>{try{await navigator.clipboard.writeText(n.referral_url),t.value=!0,setTimeout(()=>t.value=!1,2e3)}catch(u){console.error("Failed to copy link:",u)}},s=[{accessorKey:"name",header:"Name"},{accessorKey:"email",header:"Email"},{accessorKey:"joining_date",header:"Joining Date"}];return(u,b)=>(i(),c(g,null,[l(a(I),{title:"Dashboard"}),l(E,null,{default:o(()=>[d("div",xe,[d("div",ge,[d("h1",ve,[d("span",null,"Welcome, "+m(e.user.data.name),1),e.role==="user"?(i(),v(a(J),{key:0,variant:e.stats.wallet_balance>=50?"":"destructive"},{default:o(()=>[_(m(e.stats.wallet_balance>=50?"Active":"Inactive"),1)]),_:1},8,["variant"])):y("",!0)]),e.role==="user"?(i(),c("div",be,[d("p",null,[b[0]||(b[0]=d("strong",null,"Referral Code:",-1)),_(" "+m(e.user.data.referral_code),1)]),l(a(z),{variant:"outline",size:"sm",onClick:r},{default:o(()=>[_(m(t.value?"âœ… Copied!":"Copy Link"),1)]),_:1})])):y("",!0)]),e.role==="user"?(i(),c("div",he,[l(pe,{stats:e.stats,recent_referrals:e.recent_referrals,columns:s,milestones:e.milestones},null,8,["stats","recent_referrals","milestones"])])):y("",!0),e.role==="admin"?(i(),c("div",ye,[l(re,{stats:e.stats,recent_users:e.recent_users,columns:s},null,8,["stats","recent_users"])])):y("",!0)])]),_:1})],64))}});export{qe as default};
